(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[280],{9533:function(e,s,l){Promise.resolve().then(l.bind(l,8909))},8909:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return d}});var n=l(3955),r=l(6008),a=l(2310),i=l(4876);function d(){let e=(0,r.useParams)(),s=Array.isArray(null==e?void 0:e.id)?e.id[0]:null==e?void 0:e.id,[l,d]=(0,a.useState)(null),[c,t]=(0,a.useState)(!0),[h,o]=(0,a.useState)("");return(0,a.useEffect)(()=>{if(!s){o("Missing employee ID."),t(!1);return}let e=async()=>{try{let e=await fetch("/api/employees/".concat(s));if(!e.ok)throw Error("Employee not found");let l=await e.json();d(l)}catch(e){o(e.message)}finally{t(!1)}};e()},[s]),(0,n.jsx)(i.Z,{children:(0,n.jsx)("div",{className:"p-6",children:c?(0,n.jsx)("p",{children:"Loading..."}):h?(0,n.jsx)("p",{className:"text-red-500",children:h}):l?(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 max-w-2xl mx-auto",children:[(0,n.jsxs)("h1",{className:"text-2xl font-bold mb-4",children:[l.firstName," ",l.lastName]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Email:"})," ",l.email]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Phone:"})," ",l.phone||"-"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Department:"})," ",l.department||"-"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Job Role:"})," ",l.jobRole||"-"]})]})]}):null})})}},4876:function(e,s,l){"use strict";l.d(s,{Z:function(){return t}});var n=l(3955);l(2310);var r=l(4751),a=l(6008);function i(){return(0,n.jsx)("aside",{className:"w-64 bg-white shadow p-4",children:(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/dashboard",children:"Dashboard"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/approvals",children:"Approvals"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/employees",children:"Employees"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/reports",children:"Reports"})})]})})})}function d(){return(0,n.jsx)("aside",{className:"w-64 bg-white shadow p-4",children:(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/dashboard",children:"Dashboard"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/approvals",children:"Leave Approvals"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/calendar",children:"Team Calendar"})})]})})})}function c(){return(0,n.jsx)("aside",{className:"w-64 bg-white shadow p-4",children:(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/dashboard",children:"Dashboard"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/calendar",children:"My Calendar"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/documents",children:"Documents"})})]})})})}function t(e){var s;let{children:l}=e,t=(0,a.usePathname)()||"",{data:h,status:o}=(0,r.useSession)(),x=t.startsWith("/employees/")&&t.split("/").length>2;if("loading"===o)return null;let u=null==h?void 0:null===(s=h.user)||void 0===s?void 0:s.role,j=null;return j="ADMIN"===u?(0,n.jsx)(i,{}):"MANAGER"===u?(0,n.jsx)(d,{}):(0,n.jsx)(c,{}),(0,n.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[!x&&j,(0,n.jsx)("main",{className:"flex-1 p-6",children:l})]})}},6008:function(e,s,l){e.exports=l(167)}},function(e){e.O(0,[751,875,474,744],function(){return e(e.s=9533)}),_N_E=e.O()}]);