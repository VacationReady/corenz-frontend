(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[622],{1073:function(e,t,s){Promise.resolve().then(s.bind(s,2186))},2186:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u},dynamic:function(){return m}});var r=s(3955),n=s(2310),l=s(5846),a=s.n(l),i=s(7522),c=s(851),o=s(7051),d=s(9449);let m="force-dynamic";function u(){let[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)(!1),[m,u]=(0,n.useState)({firstName:"",lastName:"",email:"",phone:"",department:"",jobRole:""}),[f,h]=(0,n.useState)("");(0,n.useEffect)(()=>{fetch("/api/employees").then(e=>e.json()).then(e=>t(e)).catch(()=>h("Failed to load employees"))},[]);let x=e=>{u({...m,[e.target.name]:e.target.value})},p=async e=>{e.preventDefault();try{let e=await fetch("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!e.ok){let t=await e.json();h(t.error||"Failed to create employee");return}let s=await e.json();t(e=>[...e,s]),u({firstName:"",lastName:"",email:"",phone:"",department:"",jobRole:""}),h(""),l(!1)}catch(e){h("Network error")}};return(0,r.jsxs)(d.M,{title:"Employees",action:(0,r.jsx)(c.Z,{onClick:()=>l(!0),children:"Add Employee"}),children:[f&&(0,r.jsx)("p",{className:"text-red-600 mb-4",children:f}),(0,r.jsx)(o.Z,{children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-sm",children:[(0,r.jsx)("thead",{className:"bg-neutral-100 border-b",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left p-3",children:"Name"}),(0,r.jsx)("th",{className:"text-left p-3",children:"Phone"}),(0,r.jsx)("th",{className:"text-left p-3",children:"Department"}),(0,r.jsx)("th",{className:"text-left p-3",children:"Job Role"}),(0,r.jsx)("th",{className:"text-left p-3",children:"Email"}),(0,r.jsx)("th",{className:"text-left p-3",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:e.map(e=>(0,r.jsxs)("tr",{className:"border-b hover:bg-neutral-50",children:[(0,r.jsx)("td",{className:"p-3",children:(0,r.jsxs)(a(),{href:"/employees/".concat(e.id,"/overview"),className:"text-indigo-600 hover:underline",children:[e.firstName," ",e.lastName]})}),(0,r.jsx)("td",{className:"p-3",children:e.phone||"-"}),(0,r.jsx)("td",{className:"p-3",children:e.department||"-"}),(0,r.jsx)("td",{className:"p-3",children:e.jobRole||"-"}),(0,r.jsx)("td",{className:"p-3",children:e.email}),(0,r.jsx)("td",{className:"p-3",children:(0,r.jsx)(c.Z,{variant:"danger",size:"sm",onClick:async()=>{if(confirm("Are you sure you want to delete this employee?"))try{let s=await fetch("/api/employees/".concat(e.id),{method:"DELETE"});if(!s.ok)throw Error("Delete failed");t(t=>t.filter(t=>t.id!==e.id))}catch(e){alert("Error deleting employee."),console.error(e)}},children:"Delete"})})]},e.id))})]})})}),s&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,r.jsxs)(o.Z,{className:"w-full max-w-md p-6 space-y-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Add Employee"}),(0,r.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[["firstName","lastName","email","phone","department","jobRole"].map(e=>(0,r.jsx)(i.Z,{type:"text",name:e,placeholder:e[0].toUpperCase()+e.slice(1),value:m[e],onChange:x,required:["firstName","lastName","email"].includes(e)},e)),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)(c.Z,{type:"button",variant:"ghost",onClick:()=>l(!1),children:"Cancel"}),(0,r.jsx)(c.Z,{type:"submit",children:"Save"})]})]})]})})]})}},851:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var r,n,l=s(3955),a=s(3831);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,c=a.W,o=(r="inline-flex items-center justify-center font-medium transition focus:outline-none focus:ring-2 focus:ring-offset-2",n={variants:{variant:{primary:"bg-indigo-600 text-white hover:bg-indigo-700",ghost:"bg-transparent hover:bg-gray-100 text-gray-800",danger:"bg-red-600 text-white hover:bg-red-700"},size:{sm:"px-3 py-1.5 text-sm rounded-md",md:"px-4 py-2 text-sm rounded-md",lg:"px-6 py-3 text-base rounded-lg"}},defaultVariants:{variant:"primary",size:"md"}},e=>{var t;if((null==n?void 0:n.variants)==null)return c(r,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:s,defaultVariants:l}=n,a=Object.keys(s).map(t=>{let r=null==e?void 0:e[t],n=null==l?void 0:l[t];if(null===r)return null;let a=i(r)||i(n);return s[t][a]}),o=e&&Object.entries(e).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{}),d=null==n?void 0:null===(t=n.compoundVariants)||void 0===t?void 0:t.reduce((e,t)=>{let{class:s,className:r,...n}=t;return Object.entries(n).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...l,...o}[t]):({...l,...o})[t]===s})?[...e,s,r]:e},[]);return c(r,a,d,null==e?void 0:e.class,null==e?void 0:e.className)});function d(e){let{children:t,className:s,variant:r="primary",size:n="md",type:i="button",...c}=e;return(0,l.jsx)("button",{type:i,className:(0,a.Z)(o({variant:r,size:n}),s),...c,children:t})}},7051:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(3955);function n(e){let{title:t,icon:s,children:n,className:l}=e;return(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow p-6 h-full ".concat(l||""),children:[t&&(0,r.jsxs)("div",{className:"flex items-center mb-4 text-indigo-700",children:[s&&(0,r.jsx)("div",{className:"w-6 h-6 mr-2",children:s}),(0,r.jsx)("h2",{className:"text-lg font-semibold",children:t})]}),(0,r.jsx)("div",{className:"text-sm text-gray-800 space-y-2",children:n})]})}s(2310)},7522:function(e,t,s){"use strict";var r=s(3955),n=s(2310),l=s(3831);let a=n.forwardRef((e,t)=>{let{variant:s="default",className:n,...a}=e;return(0,r.jsx)("input",{ref:t,className:(0,l.Z)("block w-full rounded-md border px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",{default:"bg-white border-gray-300 text-gray-900 placeholder-gray-400",dark:"bg-neutral-800 border-neutral-700 text-white placeholder-gray-400"}[s],n),...a})});a.displayName="Input",t.Z=a},9449:function(e,t,s){"use strict";s.d(t,{M:function(){return n}});var r=s(3955);function n(e){let{title:t,icon:s,children:n,className:l,action:a}=e;return(0,r.jsxs)("div",{className:"w-full p-6 ".concat(l||""),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center text-indigo-700",children:[s&&(0,r.jsx)("div",{className:"w-5 h-5 mr-2",children:s}),(0,r.jsx)("h1",{className:"text-2xl font-bold",children:t})]}),a]}),n]})}s(2310)},3831:function(e,t,s){"use strict";function r(){for(var e,t,s=0,r="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=function e(t){var s,r,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var l=t.length;for(s=0;s<l;s++)t[s]&&(r=e(t[s]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r)}return n}(e))&&(r&&(r+=" "),r+=t);return r}s.d(t,{W:function(){return r}}),t.Z=r}},function(e){e.O(0,[375,875,474,744],function(){return e(e.s=1073)}),_N_E=e.O()}]);