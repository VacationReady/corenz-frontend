(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[622],{1073:function(e,t,r){Promise.resolve().then(r.bind(r,2186))},2186:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m},dynamic:function(){return u}});var s=r(3955),n=r(2310),l=r(5846),a=r.n(l),i=r(7522),o=r(851),c=r(7051),d=r(9449);let u="force-dynamic";function m(){let[e,t]=(0,n.useState)([]),[r,l]=(0,n.useState)(!1),[u,m]=(0,n.useState)({firstName:"",lastName:"",email:"",phone:"",department:"",jobRole:""}),[f,h]=(0,n.useState)("");(0,n.useEffect)(()=>{fetch("/api/employees").then(e=>e.json()).then(e=>t(e)).catch(()=>h("Failed to load employees"))},[]);let p=e=>{m({...u,[e.target.name]:e.target.value})},x=async e=>{e.preventDefault();try{let e=await fetch("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!e.ok){let t=await e.json();h(t.error||"Failed to create employee");return}let r=await e.json();t(e=>[...e,r]),m({firstName:"",lastName:"",email:"",phone:"",department:"",jobRole:""}),h(""),l(!1)}catch(e){h("Network error")}};return(0,s.jsxs)(d.M,{title:"Employees",action:(0,s.jsx)(o.Z,{onClick:()=>l(!0),children:"Add Employee"}),children:[f&&(0,s.jsx)("p",{className:"text-red-600 mb-4",children:f}),(0,s.jsx)(c.Z,{children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full text-sm",children:[(0,s.jsx)("thead",{className:"bg-neutral-100 border-b",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-3",children:"Name"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Phone"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Department"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Job Role"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Email"}),(0,s.jsx)("th",{className:"text-left p-3",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"border-b hover:bg-neutral-50",children:[(0,s.jsx)("td",{className:"p-3",children:(0,s.jsxs)(a(),{href:"/employees/".concat(e.id,"/overview"),className:"text-indigo-600 hover:underline",children:[e.firstName," ",e.lastName]})}),(0,s.jsx)("td",{className:"p-3",children:e.phone||"-"}),(0,s.jsx)("td",{className:"p-3",children:e.department||"-"}),(0,s.jsx)("td",{className:"p-3",children:e.jobRole||"-"}),(0,s.jsx)("td",{className:"p-3",children:e.email}),(0,s.jsx)("td",{className:"p-3",children:(0,s.jsx)(o.Z,{variant:"danger",size:"sm",onClick:async()=>{if(confirm("Are you sure you want to delete this employee?"))try{let r=await fetch("/api/employees/".concat(e.id),{method:"DELETE"});if(!r.ok)throw Error("Delete failed");t(t=>t.filter(t=>t.id!==e.id))}catch(e){alert("Error deleting employee."),console.error(e)}},children:"Delete"})})]},e.id))})]})})}),r&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,s.jsxs)(c.Z,{className:"w-full max-w-md p-6 space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Add Employee"}),(0,s.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[["firstName","lastName","email","phone","department","jobRole"].map(e=>(0,s.jsx)(i.Z,{type:"text",name:e,placeholder:e[0].toUpperCase()+e.slice(1),value:u[e],onChange:p,required:["firstName","lastName","email"].includes(e)},e)),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(o.Z,{type:"button",variant:"ghost",onClick:()=>l(!1),children:"Cancel"}),(0,s.jsx)(o.Z,{type:"submit",children:"Save"})]})]})]})})]})}},851:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s,n,l=r(3955),a=r(3831);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,o=a.W,c=(s="inline-flex items-center justify-center font-medium transition focus:outline-none focus:ring-2 focus:ring-offset-2",n={variants:{variant:{primary:"bg-indigo-600 text-white hover:bg-indigo-700",ghost:"bg-transparent hover:bg-gray-100 text-gray-800",danger:"bg-red-600 text-white hover:bg-red-700"},size:{sm:"px-3 py-1.5 text-sm rounded-md",md:"px-4 py-2 text-sm rounded-md",lg:"px-6 py-3 text-base rounded-lg"}},defaultVariants:{variant:"primary",size:"md"}},e=>{var t;if((null==n?void 0:n.variants)==null)return o(s,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:r,defaultVariants:l}=n,a=Object.keys(r).map(t=>{let s=null==e?void 0:e[t],n=null==l?void 0:l[t];if(null===s)return null;let a=i(s)||i(n);return r[t][a]}),c=e&&Object.entries(e).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{}),d=null==n?void 0:null===(t=n.compoundVariants)||void 0===t?void 0:t.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...c}[t]):({...l,...c})[t]===r})?[...e,r,s]:e},[]);return o(s,a,d,null==e?void 0:e.class,null==e?void 0:e.className)});function d(e){let{children:t,className:r,variant:s="primary",size:n="md",type:i="button",...o}=e;return(0,l.jsx)("button",{type:i,className:(0,a.Z)(c({variant:s,size:n}),r),...o,children:t})}},7051:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(3955);function n(e){let{title:t,icon:r,children:n,className:l}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow p-6 h-full ".concat(l||""),children:[t&&(0,s.jsxs)("div",{className:"flex items-center mb-4 text-indigo-700",children:[r&&(0,s.jsx)("div",{className:"w-6 h-6 mr-2",children:r}),(0,s.jsx)("h2",{className:"text-lg font-semibold",children:t})]}),(0,s.jsx)("div",{className:"text-sm text-gray-800 space-y-2",children:n})]})}r(2310)},7522:function(e,t,r){"use strict";var s=r(3955),n=r(2310),l=r(3831);let a=n.forwardRef((e,t)=>{let{variant:r="default",className:n,...a}=e;return(0,s.jsx)("input",{ref:t,className:(0,l.Z)("block w-full rounded-md border px-4 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",{default:"bg-white border-gray-300 text-gray-900 placeholder-gray-400",dark:"bg-neutral-800 border-neutral-700 text-white placeholder-gray-400"}[r],n),...a})});a.displayName="Input",t.Z=a},9449:function(e,t,r){"use strict";r.d(t,{M:function(){return n}});var s=r(3955);function n(e){let{title:t,icon:r,children:n,className:l,action:a}=e;return(0,s.jsxs)("div",{className:"w-full p-6 ".concat(l||""),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center text-indigo-700",children:[r&&(0,s.jsx)("div",{className:"w-5 h-5 mr-2",children:r}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:t})]}),a]}),n]})}r(2310)},3009:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=r(2310),n=Symbol.for("react.element"),l=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var s,l={},c=null,d=null;for(s in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,s)&&!o.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===l[s]&&(l[s]=t[s]);return{$$typeof:n,type:e,key:c,ref:d,props:l,_owner:i.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},3955:function(e,t,r){"use strict";e.exports=r(3009)},3831:function(e,t,r){"use strict";function s(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,s,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(s=e(t[r]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s)}return n}(e))&&(s&&(s+=" "),s+=t);return s}r.d(t,{W:function(){return s}}),t.Z=s}},function(e){e.O(0,[846,875,474,744],function(){return e(e.s=1073)}),_N_E=e.O()}]);